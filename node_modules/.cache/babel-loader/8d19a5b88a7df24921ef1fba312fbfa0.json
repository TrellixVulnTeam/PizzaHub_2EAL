{"ast":null,"code":"const initialState = {\n  items: {},\n  totalPrice: 0,\n  totalCount: 0\n};\n\nconst cart = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_PIZZA_CART':\n      {\n        const currentPizzaItems = !state.items[action.payload.id] ? [action.payload] : [...state.items[action.payload.id], action.payload];\n        const newItems = { ...state.items,\n          [action.payload.id]: {\n            items: currentPizzaItems,\n            totalPrice: currentPizzaItems.reduce((sum, obj) => obj.price + sum, 0)\n          }\n        };\n        const allPizzas = [].concat.apply([], Object.values(newItems));\n        const totalPrice = allPizzas.reduce((sum, obj) => obj.price + sum, 0);\n        return { ...state,\n          items: newItems,\n          totalCount: allPizzas.length,\n          totalPrice\n        };\n      }\n\n    default:\n      return state;\n  }\n};\n\nexport default cart;","map":{"version":3,"sources":["/Users/mac/Desktop/react-pizza/react-pizza/src/redux/reducers/cart.js"],"names":["initialState","items","totalPrice","totalCount","cart","state","action","type","currentPizzaItems","payload","id","newItems","reduce","sum","obj","price","allPizzas","concat","apply","Object","values","length"],"mappings":"AAAA,MAAMA,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,EADY;AAEnBC,EAAAA,UAAU,EAAE,CAFO;AAGnBC,EAAAA,UAAU,EAAE;AAHO,CAArB;;AAMA,MAAMC,IAAI,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AAC7C,UAAQA,MAAM,CAACC,IAAf;AACE,SAAK,gBAAL;AAAuB;AACrB,cAAMC,iBAAiB,GAAG,CAACH,KAAK,CAACJ,KAAN,CAAYK,MAAM,CAACG,OAAP,CAAeC,EAA3B,CAAD,GACtB,CAACJ,MAAM,CAACG,OAAR,CADsB,GAEtB,CAAC,GAAGJ,KAAK,CAACJ,KAAN,CAAYK,MAAM,CAACG,OAAP,CAAeC,EAA3B,CAAJ,EAAoCJ,MAAM,CAACG,OAA3C,CAFJ;AAIA,cAAME,QAAQ,GAAG,EACf,GAAGN,KAAK,CAACJ,KADM;AAEf,WAACK,MAAM,CAACG,OAAP,CAAeC,EAAhB,GAAqB;AACnBT,YAAAA,KAAK,EAAEO,iBADY;AAEnBN,YAAAA,UAAU,EAAEM,iBAAiB,CAACI,MAAlB,CAAyB,CAACC,GAAD,EAAMC,GAAN,KAAcA,GAAG,CAACC,KAAJ,GAAYF,GAAnD,EAAwD,CAAxD;AAFO;AAFN,SAAjB;AAQA,cAAMG,SAAS,GAAG,GAAGC,MAAH,CAAUC,KAAV,CAAgB,EAAhB,EAAoBC,MAAM,CAACC,MAAP,CAAcT,QAAd,CAApB,CAAlB;AACA,cAAMT,UAAU,GAAGc,SAAS,CAACJ,MAAV,CAAiB,CAACC,GAAD,EAAMC,GAAN,KAAcA,GAAG,CAACC,KAAJ,GAAYF,GAA3C,EAAgD,CAAhD,CAAnB;AAEA,eAAO,EACL,GAAGR,KADE;AAELJ,UAAAA,KAAK,EAAEU,QAFF;AAGLR,UAAAA,UAAU,EAAEa,SAAS,CAACK,MAHjB;AAILnB,UAAAA;AAJK,SAAP;AAMD;;AACD;AACE,aAAOG,KAAP;AAzBJ;AA2BD,CA5BD;;AA8BA,eAAeD,IAAf","sourcesContent":["const initialState = {\n  items: {},\n  totalPrice: 0,\n  totalCount: 0,\n};\n\nconst cart = (state = initialState, action) => {\n  switch (action.type) {\n    case 'ADD_PIZZA_CART': {\n      const currentPizzaItems = !state.items[action.payload.id]\n        ? [action.payload]\n        : [...state.items[action.payload.id], action.payload];\n\n      const newItems = {\n        ...state.items,\n        [action.payload.id]: {\n          items: currentPizzaItems,\n          totalPrice: currentPizzaItems.reduce((sum, obj) => obj.price + sum, 0),\n        },\n      };\n\n      const allPizzas = [].concat.apply([], Object.values(newItems));\n      const totalPrice = allPizzas.reduce((sum, obj) => obj.price + sum, 0);\n\n      return {\n        ...state,\n        items: newItems,\n        totalCount: allPizzas.length,\n        totalPrice,\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport default cart;\n"]},"metadata":{},"sourceType":"module"}