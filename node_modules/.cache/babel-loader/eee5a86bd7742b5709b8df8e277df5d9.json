{"ast":null,"code":"import _objectSpread from\"/Users/mac/Desktop/PizzaHub/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";/* eslint-disable react-hooks/exhaustive-deps */import React from'react';import{Categories,PizzaBlock,SortPopup,PizzaLoadingBlock}from'../components';import{useSelector,useDispatch}from'react-redux';import{setCategory,setSortBy}from'../redux/actions/filter';import{fetchPizzas}from'../redux/actions/pizzas';import{addPizzaToCart}from'../redux/actions/cart';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var categoryNames=['Meat','Vegan','Greel','Spisy','Calsone'];var sortItems=[{name:'popular',type:'popular',order:'desc'},{name:'price',type:'price',order:'desc'},{name:'alphabet',type:'name',order:'desc'}];function Home(){var dispatch=useDispatch();var items=useSelector(function(_ref){var pizzas=_ref.pizzas;return pizzas.items;});var cartItems=useSelector(function(_ref2){var cart=_ref2.cart;return cart.items;});var isLoaded=useSelector(function(_ref3){var pizzas=_ref3.pizzas;return pizzas.isLoaded;});var _useSelector=useSelector(function(_ref4){var filters=_ref4.filters;return filters;}),category=_useSelector.category,sortBy=_useSelector.sortBy;React.useEffect(function(){dispatch(fetchPizzas(sortBy,category));},[category,sortBy]);var onSelectCategory=React.useCallback(function(index){dispatch(setCategory(index));},[]);var onSelectSortType=React.useCallback(function(type){dispatch(setSortBy(type));},[]);var handleAddPizza=function handleAddPizza(obj){dispatch(addPizzaToCart(obj));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content__top\",children:[/*#__PURE__*/_jsx(Categories,{activeCategory:category,onClickCategory:onSelectCategory,items:categoryNames}),/*#__PURE__*/_jsx(SortPopup,{activeSortType:sortBy.type,items:sortItems,onClickSortType:onSelectSortType})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"content__title\",children:\"All pizzas\"}),/*#__PURE__*/_jsx(\"div\",{className:\"content__items\",children:isLoaded?items.map(function(obj){return/*#__PURE__*/_jsx(PizzaBlock,_objectSpread(_objectSpread({onClickAddPizza:handleAddPizza,isLoading:true},obj),{},{addedCount:cartItems[obj.id]&&cartItems[obj.id].items.length}),obj.id);}):Array(10).fill(0).map(function(_,i){return/*#__PURE__*/_jsx(PizzaLoadingBlock,{},i);})})]});}export default Home;","map":{"version":3,"sources":["/Users/mac/Desktop/PizzaHub/src/pages/Home.jsx"],"names":["React","Categories","PizzaBlock","SortPopup","PizzaLoadingBlock","useSelector","useDispatch","setCategory","setSortBy","fetchPizzas","addPizzaToCart","categoryNames","sortItems","name","type","order","Home","dispatch","items","pizzas","cartItems","cart","isLoaded","filters","category","sortBy","useEffect","onSelectCategory","useCallback","index","onSelectSortType","handleAddPizza","obj","map","id","length","Array","fill","_","i"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { Categories, PizzaBlock, SortPopup, PizzaLoadingBlock } from '../components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setCategory, setSortBy } from '../redux/actions/filter';\nimport { fetchPizzas } from '../redux/actions/pizzas';\nimport { addPizzaToCart } from '../redux/actions/cart';\n\nconst categoryNames = ['Meat', 'Vegan', 'Greel', 'Spisy', 'Calsone'];\nconst sortItems = [\n  { name: 'popular', type: 'popular', order: 'desc' },\n  { name: 'price', type: 'price', order: 'desc' },\n  { name: 'alphabet', type: 'name', order: 'desc' },\n];\n\nfunction Home() {\n  const dispatch = useDispatch();\n  const items = useSelector(({ pizzas }) => pizzas.items);\n  const cartItems = useSelector(({ cart }) => cart.items);\n  const isLoaded = useSelector(({ pizzas }) => pizzas.isLoaded);\n  const { category, sortBy } = useSelector(({ filters }) => filters);\n\n  React.useEffect(() => {\n    dispatch(fetchPizzas(sortBy, category));\n  }, [category, sortBy]);\n\n  const onSelectCategory = React.useCallback((index) => {\n    dispatch(setCategory(index));\n  }, []);\n\n  const onSelectSortType = React.useCallback((type) => {\n    dispatch(setSortBy(type));\n  }, []);\n\n  const handleAddPizza = (obj) => {\n    dispatch(addPizzaToCart(obj));\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"content__top\">\n        <Categories\n          activeCategory={category}\n          onClickCategory={onSelectCategory}\n          items={categoryNames}\n        />\n        <SortPopup\n          activeSortType={sortBy.type}\n          items={sortItems}\n          onClickSortType={onSelectSortType}\n        />\n      </div>\n      <h2 className=\"content__title\">All pizzas</h2>\n      <div className=\"content__items\">\n        {isLoaded\n          ? items.map((obj) => (\n              <PizzaBlock\n                onClickAddPizza={handleAddPizza}\n                key={obj.id}\n                isLoading={true}\n                {...obj}\n                addedCount={cartItems[obj.id] && cartItems[obj.id].items.length}\n              />\n            ))\n          : Array(10)\n              .fill(0)\n              .map((_, i) => <PizzaLoadingBlock key={i} />)}\n      </div>\n    </div>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}